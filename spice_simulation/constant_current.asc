Version 4
SHEET 1 880 692
WIRE 384 -1536 208 -1536
WIRE 384 -1440 384 -1456
WIRE -528 -1408 -528 -1456
WIRE 208 -1360 208 -1536
WIRE -832 -1328 -832 -1360
WIRE -1312 -1312 -1648 -1312
WIRE -1216 -1312 -1312 -1312
WIRE -1024 -1312 -1136 -1312
WIRE -944 -1312 -1024 -1312
WIRE -864 -1312 -944 -1312
WIRE -288 -1312 -288 -1344
WIRE -640 -1296 -800 -1296
WIRE -528 -1296 -528 -1344
WIRE -528 -1296 -560 -1296
WIRE -352 -1296 -528 -1296
WIRE -320 -1296 -352 -1296
WIRE -1024 -1280 -1024 -1312
WIRE -864 -1280 -928 -1280
WIRE -224 -1280 -256 -1280
WIRE -176 -1280 -224 -1280
WIRE -64 -1280 -96 -1280
WIRE 96 -1280 -64 -1280
WIRE 160 -1280 96 -1280
WIRE -1648 -1264 -1648 -1312
WIRE -1312 -1264 -1312 -1312
WIRE -320 -1264 -368 -1264
WIRE -64 -1248 -64 -1280
WIRE -832 -1232 -832 -1264
WIRE -288 -1232 -288 -1248
WIRE 208 -1184 208 -1264
WIRE 208 -1184 112 -1184
WIRE -1024 -1168 -1024 -1216
WIRE 208 -1168 208 -1184
WIRE -1648 -1152 -1648 -1184
WIRE -1312 -1136 -1312 -1184
WIRE -480 -1136 -544 -1136
WIRE -368 -1136 -368 -1264
WIRE -368 -1136 -400 -1136
WIRE -336 -1136 -368 -1136
WIRE -224 -1136 -224 -1280
WIRE -224 -1136 -256 -1136
WIRE -64 -1120 -64 -1168
WIRE 208 -1040 208 -1088
WIRE 208 -1008 208 -1040
WIRE -928 -928 -928 -1280
WIRE -768 -928 -928 -928
WIRE -480 -928 -688 -928
WIRE 112 -928 112 -1184
WIRE 112 -928 -480 -928
WIRE 336 -784 160 -784
WIRE 336 -688 336 -704
WIRE -576 -656 -576 -704
WIRE 160 -608 160 -784
WIRE -848 -576 -848 -608
WIRE -1328 -560 -1648 -560
WIRE -1264 -560 -1328 -560
WIRE -1040 -560 -1184 -560
WIRE -960 -560 -1040 -560
WIRE -880 -560 -960 -560
WIRE -384 -560 -384 -592
WIRE -688 -544 -816 -544
WIRE -576 -544 -576 -592
WIRE -576 -544 -608 -544
WIRE -480 -544 -576 -544
WIRE -416 -544 -480 -544
WIRE -1040 -528 -1040 -560
WIRE -880 -528 -944 -528
WIRE -320 -528 -352 -528
WIRE -240 -528 -320 -528
WIRE -128 -528 -160 -528
WIRE 48 -528 -128 -528
WIRE 112 -528 48 -528
WIRE -1648 -512 -1648 -560
WIRE -1328 -512 -1328 -560
WIRE -416 -512 -464 -512
WIRE -128 -496 -128 -528
WIRE -848 -480 -848 -512
WIRE -384 -480 -384 -496
WIRE 160 -432 160 -512
WIRE 160 -432 16 -432
WIRE -1040 -416 -1040 -464
WIRE 160 -416 160 -432
WIRE -1648 -400 -1648 -432
WIRE -1328 -384 -1328 -432
WIRE -464 -384 -464 -512
WIRE -432 -384 -464 -384
WIRE -320 -384 -320 -528
WIRE -320 -384 -352 -384
WIRE -128 -368 -128 -416
WIRE 160 -288 160 -336
WIRE 160 -256 160 -288
WIRE -944 -176 -944 -528
WIRE -528 -176 -944 -176
WIRE 16 -176 16 -432
WIRE 16 -176 -528 -176
WIRE 336 -48 160 -48
WIRE 336 48 336 32
WIRE -448 80 -448 32
WIRE 160 128 160 -48
WIRE -704 160 -704 128
WIRE -1824 176 -1824 128
WIRE -1360 176 -1680 176
WIRE -1056 176 -1360 176
WIRE -944 176 -976 176
WIRE -816 176 -944 176
WIRE -736 176 -816 176
WIRE -256 176 -256 144
WIRE -1360 192 -1360 176
WIRE -560 192 -672 192
WIRE -448 192 -448 144
WIRE -448 192 -480 192
WIRE -368 192 -448 192
WIRE -288 192 -368 192
WIRE -944 208 -944 176
WIRE -736 208 -800 208
WIRE -144 208 -224 208
WIRE 48 208 -144 208
WIRE 112 208 48 208
WIRE -288 224 -336 224
WIRE -1680 256 -1680 176
WIRE -704 256 -704 224
WIRE -256 256 -256 240
WIRE -1824 288 -1824 256
WIRE 160 304 160 224
WIRE 160 304 48 304
WIRE -1360 320 -1360 272
WIRE -944 320 -944 272
WIRE 160 320 160 304
WIRE -336 352 -336 224
WIRE -144 352 -144 208
WIRE -144 352 -336 352
WIRE -1680 368 -1680 336
WIRE 160 448 160 400
WIRE 160 480 160 448
WIRE -800 560 -800 208
WIRE -512 560 -800 560
WIRE 48 560 48 304
WIRE 48 560 -512 560
FLAG -1680 368 0
FLAG 160 480 0
FLAG 336 48 0
FLAG -944 320 0
FLAG -1824 288 0
FLAG -1824 128 5V
FLAG -704 256 5V
FLAG -256 256 5V
FLAG -704 128 0
FLAG -256 144 0
FLAG -448 32 0
FLAG 160 -256 0
FLAG 336 -688 0
FLAG -1040 -416 0
FLAG -848 -480 5V
FLAG -384 -480 5V
FLAG -848 -608 0
FLAG -384 -592 0
FLAG -576 -704 0
FLAG 48 208 gate_down
FLAG 48 -528 gate_mid
FLAG -816 176 filter1_down
FLAG -368 192 filter2_down
FLAG -480 -544 filter2_mid
FLAG -960 -560 filter1_mid
FLAG 160 448 current_down
FLAG 160 -288 current_mid
FLAG -512 560 feed_down
FLAG -528 -176 feed_mid
FLAG -1648 -400 0
FLAG -1328 -384 0
FLAG -1360 320 0
FLAG 208 -1008 0
FLAG 384 -1440 0
FLAG -1024 -1168 0
FLAG -832 -1232 5V
FLAG -288 -1232 5V
FLAG -832 -1360 0
FLAG -288 -1344 0
FLAG -528 -1456 0
FLAG 96 -1280 gate_up
FLAG -352 -1296 filter2_up
FLAG -944 -1312 filter1_up
FLAG 208 -1040 current_up
FLAG -480 -928 feed_up
FLAG -1648 -1152 0
FLAG -1312 -1136 0
FLAG -64 -1120 0
FLAG -128 -368 0
FLAG -544 -1136 0
SYMBOL nmos 112 128 R0
SYMATTR InstName DOWN_mos
SYMATTR Value IRF7401
SYMBOL Opamps\\OP07 -704 256 M180
SYMATTR InstName U1
SYMBOL Opamps\\OP07 -256 272 M180
SYMATTR InstName U2
SYMBOL res 144 304 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMATTR SpiceLine pwr=10
SYMBOL voltage -1680 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -62 180 Left 2
SYMATTR Value PULSE(0 5 0 0 0 0.2u 1u)
SYMATTR InstName V3
SYMBOL res -960 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL cap -960 208 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL voltage -1824 160 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL cap -464 80 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL res -464 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL nmos 112 -608 R0
SYMATTR InstName UP_mos
SYMATTR Value IRF7401
SYMBOL Opamps\\OP07 -848 -480 M180
SYMATTR InstName U3
SYMBOL Opamps\\OP07 -384 -464 M180
SYMATTR InstName U4
SYMBOL res 144 -432 R0
SYMATTR InstName R7
SYMATTR Value 1
SYMATTR SpiceLine pwr=10
SYMBOL voltage 336 -800 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName V4
SYMATTR Value PWL(0 15 25m 12 45m 4.2 150m 2)
SYMBOL res -1168 -576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL cap -1056 -528 R0
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL cap -592 -656 R0
SYMATTR InstName C6
SYMATTR Value 1µ
SYMBOL res -592 -560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 10k
SYMBOL voltage -1648 -528 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -62 180 Left 2
SYMATTR Value PULSE(0 5 0 0 0 0.2u 1u)
SYMATTR InstName V5
SYMBOL res -1376 176 R0
SYMATTR InstName R2
SYMATTR Value 100k
SYMBOL res -1344 -528 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL nmos 160 -1360 R0
SYMATTR InstName UP_mos1
SYMATTR Value IRF7401
SYMBOL Opamps\\OP07 -832 -1232 M180
SYMATTR InstName U5
SYMBOL Opamps\\OP07 -288 -1216 M180
SYMATTR InstName U6
SYMBOL res 192 -1184 R0
SYMATTR InstName R8
SYMATTR Value 1
SYMATTR SpiceLine pwr=10
SYMBOL res -1120 -1328 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10k
SYMBOL cap -1040 -1280 R0
SYMATTR InstName C5
SYMATTR Value 1µ
SYMBOL cap -544 -1408 R0
SYMATTR InstName C7
SYMATTR Value 1µ
SYMBOL res -544 -1312 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL voltage -1648 -1280 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -62 180 Left 2
SYMATTR Value PULSE(0 5 0 0 0 0.2u 1u)
SYMATTR InstName V7
SYMBOL res -1328 -1280 R0
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL res -144 -544 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res -80 -1296 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res -80 -1264 R0
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL res -144 -512 R0
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL res -336 -400 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 10k
SYMBOL res -240 -1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 10k
SYMBOL voltage 384 -1552 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName V2
SYMATTR Value PWL(0 15 25m 12 45m 4.2 150m 2)
SYMBOL voltage 336 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=1
SYMATTR InstName V6
SYMATTR Value PWL(0 15 25m 12 45m 4.2 150m 2)
SYMBOL res -384 -1152 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 10k
SYMBOL res -672 -944 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 10k
TEXT 280 456 Left 2 !.tran 0 250m 0 0.1u startup
